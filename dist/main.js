(()=>{"use strict";const e=function(){function e(){let e=document.querySelectorAll(".form");console.log(e),e.length>0&&e.forEach((e=>{e.remove()}))}return{projectForm:function(){e();let t=document.createElement("form");return t.classList.add("form"),t},toDoForm:function(){e();let t=document.createElement("form");t.classList.add("form");let n=document.createElement("div"),o=document.createElement("label");o.setAttribute("for","title"),o.innerText="Title: ";let r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","title"),r.setAttribute("required",!0),n.appendChild(o),n.appendChild(r);let c=document.createElement("div"),i=document.createElement("select");i.setAttribute("id","select");let d=document.createElement("label");d.setAttribute("for","select"),d.innerText="Priority: ";let a=document.createElement("option");a.setAttribute("value","Low"),a.setAttribute("selected",!0),a.setAttribute("required",!0),a.innerText="Low";let l=document.createElement("option");l.setAttribute("value","Mid"),l.setAttribute("required",!0),l.innerText="Mid";let s=document.createElement("option");s.setAttribute("value","High"),s.setAttribute("required",!0),s.innerText="High",c.appendChild(d),c.appendChild(i),i.appendChild(a),i.appendChild(l),i.appendChild(s);let p=document.createElement("div"),u=document.createElement("label");u.setAttribute("for","description"),u.innerText="Description: ";let m=document.createElement("input");m.setAttribute("type","text"),m.setAttribute("id","description"),p.appendChild(u),p.appendChild(m);let h=document.createElement("div"),E=document.createElement("label");E.setAttribute("for","date"),E.innerText="Due date: ";let C=document.createElement("input");C.setAttribute("type","date"),C.setAttribute("id","date"),C.setAttribute("name","date"),h.appendChild(E),h.appendChild(C),document.createElement("div");let b=document.createElement("div");return t.appendChild(n),t.appendChild(c),t.appendChild(p),t.appendChild(h),t.appendChild(b),t}}}();(()=>{const t=[],n=[];let o=[];const r=document.createElement("section");r.classList.add("projectsSection"),root.appendChild(r);const c=document.createElement("section");c.classList.add("navBar");const i=document.createElement("button");i.innerText="NEW PROJECT",i.setAttribute("name","newProject"),i.onclick=a;const d=document.createElement("button");function a(n){n.preventDefault;let o=n.target.getAttribute("name");if(console.log(o),"newProject"===o){let t=e.projectForm();root.appendChild(t)}else{let n=e.toDoForm();const o=document.createElement("div"),r=document.createElement("label");r.innerText="Project ";const c=document.createElement("select");t.forEach((e=>{let t=document.createElement("option");t.innerText=`${e.name}`,c.appendChild(t)})),n.appendChild(o),o.appendChild(r),o.appendChild(c),root.appendChild(n)}}d.setAttribute("name","newToDo"),d.innerText="NEW TO-DO",d.onclick=a,c.appendChild(i),c.appendChild(d),root.appendChild(c);const l=document.createElement("section");l.classList.add("toDosSection"),root.appendChild(l);class s{constructor(e,t,o,r){this.title=e,this.description=t,this.dueDate=o,this.priority=r,this.project="any",this.any="any",n.push({...this})}}class p{constructor(e){this.name=e,t.push(this)}}function u(e,t){document.querySelector("#root");const n=document.querySelector(".toDoArticle");n&&n.remove();const r=document.createElement("article");r.classList.add("toDoArticle"),t.forEach((n=>{const c=document.createElement("div");c.classList.add("toDoCard");const i=document.createElement("h2");i.innerText=`${n.title}`,c.appendChild(i);const d=document.createElement("p");d.innerText=`description: ${n.description}`,c.appendChild(d);const a=document.createElement("p");a.innerText=`Due date: ${n.dueDate}`,c.appendChild(a);const s=document.createElement("p");s.innerText=`Priority: ${n.priority}`,c.appendChild(s);const p=document.createElement("form"),u=document.createElement("label");u.setAttribute("for","projects"),u.innerText="choose project: ";const h=document.createElement("select");h.setAttribute("name","projects"),h.setAttribute("id","projects"),h.classList.add("select");const E=document.createElement("option");E.classList.add("option"),E.setAttribute("value","any"),E.innerText="Any",h.appendChild(E),e.forEach((e=>{const t=document.createElement("option");t.classList.add("option"),t.setAttribute("value",`${e.name}`),t.innerText=`${e.name}`,h.appendChild(t)})),p.onchange=function(r){const c=r.target.value;n.project=c;const i=t.findIndex((e=>e.title===n.title));t[i]=n,o=t,m(e,o)},p.appendChild(u),p.appendChild(h),c.appendChild(p),r.appendChild(c),l.appendChild(r)}))}function m(e,n){const o=document.querySelector(".projectsContainer");o&&o.remove();const c=document.createElement("div");c.classList.add("projectsContainer");const i=document.createElement("button");if(i.innerText="Any",i.classList.add("projectBtn"),i.setAttribute("any","any"),i.addEventListener("click",(()=>{let e=n.filter((e=>"any"===e.any));u(t,e)})),c.appendChild(i),e.length>0){function d(e){e.preventDefault;let o=e.target.getAttribute("project-name"),r=n.filter((e=>e.project===o));u(t,r)}e.forEach((e=>{const t=document.createElement("button");t.innerText=e.name,t.classList.add("projectBtn"),t.addEventListener("click",d),t.setAttribute("project-name",e.name),c.appendChild(t)}))}r.appendChild(c)}new s("watarfo","watarfo","watarfo","watarfo"),new s("watarfo2","watarfo2","watarfo2","watarfo2"),new p("proyecto 1"),new p("proyecto 2"),m(t,n),u(t,n)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9mb3Jtcy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy90b2RvLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBmb3JtcyA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gY2hlY2tJZkl0RXhpc3RzKCkge1xuICAgIGxldCBwcmV2aW91c0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybScpO1xuICAgIGNvbnNvbGUubG9nKHByZXZpb3VzRm9ybSlcbiAgICBpZiAocHJldmlvdXNGb3JtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcHJldmlvdXNGb3JtLmZvckVhY2goKGZvcm0pID0+IHtcbiAgICAgICAgICAgIGZvcm0ucmVtb3ZlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH0gXG4gIH07XG4gICAgZnVuY3Rpb24gY3JlYXRlUHJvamVjdEZvcm0oKSB7XG4gICAgICAvLyBDcmVhdGUgYW5kIHJldHVybiB0aGUgSFRNTCBmb3IgdGhlIHByb2plY3QgZm9ybVxuICAgICAgY2hlY2tJZkl0RXhpc3RzKCk7XG4gICAgICBsZXQgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICBwcm9qZWN0Rm9ybS5jbGFzc0xpc3QuYWRkKCdmb3JtJyk7XG4gICAgICBcbiAgICAgIFxuICAgICAgICBcbiAgICAgIHJldHVybiBwcm9qZWN0Rm9ybTtcbiAgICB9XG4gIFxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvRG9Gb3JtKCkge1xuICAgICAgLy8gQ3JlYXRlIGFuZCByZXR1cm4gdGhlIEhUTUwgZm9yIHRoZSB0by1kbyBmb3JtXG4gICAgICBjaGVja0lmSXRFeGlzdHMoKTtcbiAgICAgIGxldCB0b2RvRm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgIHRvZG9Gb3JtLmNsYXNzTGlzdC5hZGQoJ2Zvcm0nKVxuICAgICAgLyogdGl0bGUgaW5wdXQ6ICovXG4gICAgICBsZXQgZGl2VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGxldCBkaXZUaXRsZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIGRpdlRpdGxlTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAndGl0bGUnKTtcbiAgICAgIGRpdlRpdGxlTGFiZWwuaW5uZXJUZXh0ID0gJ1RpdGxlOiAnO1xuICAgICAgbGV0IGRpdlRpdGxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgZGl2VGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgZGl2VGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RpdGxlJyk7XG4gICAgICBkaXZUaXRsZUlucHV0LnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCB0cnVlKTtcbiAgICAgIFxuICAgICAgZGl2VGl0bGUuYXBwZW5kQ2hpbGQoZGl2VGl0bGVMYWJlbCk7XG4gICAgICBkaXZUaXRsZS5hcHBlbmRDaGlsZChkaXZUaXRsZUlucHV0KTtcbiAgICAgIC8qIHByaW9yaXR5IGlucHV0OiAqL1xuICAgICAgbGV0IGRpdlByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBsZXQgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICBzZWxlY3Quc2V0QXR0cmlidXRlKCdpZCcsICdzZWxlY3QnKVxuICAgICAgbGV0IGRpdlByaW9yaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgZGl2UHJpb3JpdHlMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdzZWxlY3QnKTtcbiAgICAgIGRpdlByaW9yaXR5TGFiZWwuaW5uZXJUZXh0ID0gJ1ByaW9yaXR5OiAnO1xuICAgICAgICAgIC8qIG9wdGlvbnMgKi9cbiAgICAgIGxldCBkaXZQcmlvcml0eUxvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgZGl2UHJpb3JpdHlMb3cuc2V0QXR0cmlidXRlKCd2YWx1ZScsICdMb3cnKTtcbiAgICAgIGRpdlByaW9yaXR5TG93LnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgIGRpdlByaW9yaXR5TG93LnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCB0cnVlKTtcbiAgICAgIGRpdlByaW9yaXR5TG93LmlubmVyVGV4dCA9ICdMb3cnO1xuXG4gICAgICBsZXQgZGl2UHJpb3JpdHlNaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIGRpdlByaW9yaXR5TWlkLnNldEF0dHJpYnV0ZSgndmFsdWUnLCAnTWlkJyk7XG4gICAgICBkaXZQcmlvcml0eU1pZC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgICBkaXZQcmlvcml0eU1pZC5pbm5lclRleHQgPSAnTWlkJztcbiAgICAgXG4gICAgICBsZXQgZGl2UHJpb3JpdHlIaWdoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBkaXZQcmlvcml0eUhpZ2guc2V0QXR0cmlidXRlKCd2YWx1ZScsICdIaWdoJyk7XG4gICAgICBkaXZQcmlvcml0eUhpZ2guc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsIHRydWUpO1xuICAgICAgZGl2UHJpb3JpdHlIaWdoLmlubmVyVGV4dCA9ICdIaWdoJztcbiAgICAgIFxuICAgICAgZGl2UHJpb3JpdHkuYXBwZW5kQ2hpbGQoZGl2UHJpb3JpdHlMYWJlbCk7XG4gICAgICBkaXZQcmlvcml0eS5hcHBlbmRDaGlsZChzZWxlY3QpO1xuICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKGRpdlByaW9yaXR5TG93KTtcbiAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChkaXZQcmlvcml0eU1pZCk7XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQoZGl2UHJpb3JpdHlIaWdoKTtcblxuICAgICAgLyogZGVzY3JpcHRpb24gaW5wdXQgKi9cbiAgICAgIGxldCBkaXZEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbGV0IGRpdkRlc2NyaXB0aW9uTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgZGl2RGVzY3JpcHRpb25MYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkZXNjcmlwdGlvbicpO1xuICAgICAgZGl2RGVzY3JpcHRpb25MYWJlbC5pbm5lclRleHQgPSAnRGVzY3JpcHRpb246ICc7XG4gICAgICBsZXQgZGl2RGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBkaXZEZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICBkaXZEZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCAnZGVzY3JpcHRpb24nKTtcbiAgICAgIFxuICAgICAgZGl2RGVzY3JpcHRpb24uYXBwZW5kQ2hpbGQoZGl2RGVzY3JpcHRpb25MYWJlbCk7XG4gICAgICBkaXZEZXNjcmlwdGlvbi5hcHBlbmRDaGlsZChkaXZEZXNjcmlwdGlvbklucHV0KTtcblxuICAgICAgLyogRHVlIGRhdGUgaW5wdXQgKi9cbiAgICAgIGxldCBkaXZEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBsZXQgZGl2RGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIGRpdkRhdGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkYXRlJylcbiAgICAgIGRpdkRhdGVMYWJlbC5pbm5lclRleHQgPSAnRHVlIGRhdGU6ICdcbiAgICAgIGxldCBkaXZEYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgZGl2RGF0ZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJyk7XG4gICAgICBkaXZEYXRlSW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsICdkYXRlJyk7XG4gICAgICBkaXZEYXRlSW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgJ2RhdGUnKTtcblxuICAgICAgZGl2RGF0ZS5hcHBlbmRDaGlsZChkaXZEYXRlTGFiZWwpO1xuICAgICAgZGl2RGF0ZS5hcHBlbmRDaGlsZChkaXZEYXRlSW5wdXQpO1xuXG5cbiAgICAgIFxuXG4gICAgICBcbiAgICAgIFxuICAgICAgXG4gICAgICBsZXQgZGl2Tm90ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGxldCBkaXZQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZChkaXZUaXRsZSk7XG4gICAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZChkaXZQcmlvcml0eSk7XG4gICAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZChkaXZEZXNjcmlwdGlvbik7XG4gICAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZChkaXZEYXRlKTtcbiAgICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKGRpdlByb2plY3QpO1xuICAgICAgcmV0dXJuIHRvZG9Gb3JtO1xuICAgIH1cbiAgXG4gICAgLy8gRXhwb3NlIHRoZSBmdW5jdGlvbnMgeW91IHdhbnQgdG8gbWFrZSBwdWJsaWNcbiAgICByZXR1cm4ge1xuICAgICAgcHJvamVjdEZvcm06IGNyZWF0ZVByb2plY3RGb3JtLFxuICAgICAgdG9Eb0Zvcm06IGNyZWF0ZVRvRG9Gb3JtLFxuICAgIH07XG4gIH0pKCk7IiwiXG5pbXBvcnQgeyBmb3JtcyB9IGZyb20gXCIuL2Zvcm1zXCI7XG5leHBvcnQgY29uc3QgZG9tTWFuaXB1bGF0aW9uID0gKCkgPT4ge1xuICAgIC8qIGdsb2JhbCB2YXJpYWJsZXMgKi9cbiAgICBjb25zdCBwcm9qZWN0c0FycmF5ID0gW107XG4gICAgY29uc3QgdG9Eb3MgPSBbXTtcbiAgICBsZXQgdG9Eb3NVcGRhdGVkID0gW107XG4gICAgXG4gICBcbiAgICAvKiBET00gc3RhdGljIHNlY3Rpb25zICovXG4gICAgXG5cbiAgICBjb25zdCBwcm9qZWN0c1NlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gICAgcHJvamVjdHNTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzU2VjdGlvbicpO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQocHJvamVjdHNTZWN0aW9uKVxuXG4gICAgY29uc3QgbmF2QmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICAgIG5hdkJhci5jbGFzc0xpc3QuYWRkKCduYXZCYXInKTtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgbmV3UHJvamVjdC5pbm5lclRleHQgPSAnTkVXIFBST0pFQ1QnO1xuICAgIG5ld1Byb2plY3Quc2V0QXR0cmlidXRlKCduYW1lJywgJ25ld1Byb2plY3QnKTtcbiAgICBuZXdQcm9qZWN0Lm9uY2xpY2sgPSBoYW5kbGVDbGljaztcblxuICAgIGNvbnN0IG5ld1RvRG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBuZXdUb0RvLnNldEF0dHJpYnV0ZSgnbmFtZScsICduZXdUb0RvJyk7XG4gICAgbmV3VG9Eby5pbm5lclRleHQgPSAnTkVXIFRPLURPJztcbiAgICBuZXdUb0RvLm9uY2xpY2sgPSBoYW5kbGVDbGljaztcblxuICAgIG5hdkJhci5hcHBlbmRDaGlsZChuZXdQcm9qZWN0KTtcbiAgICBuYXZCYXIuYXBwZW5kQ2hpbGQobmV3VG9Ebyk7XG4gICAgcm9vdC5hcHBlbmRDaGlsZChuYXZCYXIpO1xuXG4gICAgXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0XG4gICAgICAgIGxldCBjbGlja2VkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGNsaWNrZWQpXG4gICAgICAgIGlmIChjbGlja2VkID09PSAnbmV3UHJvamVjdCcpIHtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0Rm9ybSA9IGZvcm1zLnByb2plY3RGb3JtKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQocHJvamVjdEZvcm0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdG9kb0Zvcm0gPSBmb3Jtcy50b0RvRm9ybSgpO1xuICAgICAgICAgICAgLyogc2VsZWN0IHByb2plY3QgKi9cbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3RMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgICAgICBwcm9qZWN0U2VsZWN0TGFiZWwuaW5uZXJUZXh0ID0gXCJQcm9qZWN0IFwiXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0U2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICAgICAgICBwcm9qZWN0c0FycmF5LmZvckVhY2goIChwcm9qZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2plY3RPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0T3B0aW9uLmlubmVyVGV4dCA9IGAke3Byb2plY3QubmFtZX1gXG4gICAgICAgICAgICAgICAgcHJvamVjdFNlbGVjdC5hcHBlbmRDaGlsZChwcm9qZWN0T3B0aW9uKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRvZG9Gb3JtLmFwcGVuZENoaWxkKHByb2plY3RTZWxlY3REaXYpO1xuICAgICAgICAgICAgcHJvamVjdFNlbGVjdERpdi5hcHBlbmRDaGlsZChwcm9qZWN0U2VsZWN0TGFiZWwpO1xuICAgICAgICAgICAgcHJvamVjdFNlbGVjdERpdi5hcHBlbmRDaGlsZChwcm9qZWN0U2VsZWN0KTtcbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQodG9kb0Zvcm0pXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9Eb3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gICAgdG9Eb3NDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9Eb3NTZWN0aW9uJylcbiAgICByb290LmFwcGVuZENoaWxkKHRvRG9zQ29udGFpbmVyKVxuXG4gICAgXG4gICAgLyogY2xhc3NlcyAqL1xuICAgIGNsYXNzIFRvZG8ge1xuICAgICAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGUsXG4gICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24sXG4gICAgICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlLFxuICAgICAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnByb2plY3QgPSAnYW55JztcbiAgICAgICAgICAgIHRoaXMuYW55ID0gJ2FueSdcbiAgICAgICAgICAgIHRvRG9zLnB1c2goIHsgLi4udGhpcyB9IClcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBjbGFzcyBQcm9qZWN0IHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICAgICAgICAgIHByb2plY3RzQXJyYXkucHVzaCh0aGlzKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuXG4gICAgfVxuICAgIC8qIHRveSBvYmplY3RzIHRvIHNlZSBpZiBpdCB3b3JrcyAqL1xuICAgIGNvbnN0IHRvZG9yYW5kb20gPSBuZXcgVG9kbyhcIndhdGFyZm9cIiwgXCJ3YXRhcmZvXCIsIFwid2F0YXJmb1wiLCBcIndhdGFyZm9cIiApO1xuICAgIGNvbnN0IHRvZG9yYW5kb20yID0gbmV3IFRvZG8oXCJ3YXRhcmZvMlwiLCBcIndhdGFyZm8yXCIsIFwid2F0YXJmbzJcIiwgXCJ3YXRhcmZvMlwiKTtcbiAgICBcbiAgICBjb25zdCBwcm9qZWN0YXJkbyA9IG5ldyBQcm9qZWN0KCdwcm95ZWN0byAxJyk7XG4gICAgY29uc3QgcHJvamVjdGFyZG8yID0gbmV3IFByb2plY3QoJ3Byb3llY3RvIDInKTtcbiAgICByZW5kZXJQcm9qZWN0cyhwcm9qZWN0c0FycmF5LCB0b0Rvcyk7XG4gICAgXG4gICAgcmVuZGVyVG9Ebyhwcm9qZWN0c0FycmF5LCB0b0Rvcyk7XG4gICAgXG4gICBcbiAgICBcbiAgICBcbiAgICAvKiByZW5kZXIgYSB0b2RvIGl0ZW0gKi9cbiAgICBmdW5jdGlvbiByZW5kZXJUb0RvIChwcm9qZWN0cywgdG9Eb3MpIHtcbiAgICBjb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jvb3QnKTtcbiAgIFxuICAgICAgICBcbiAgICBjb25zdCB0b0Rvc1ByZXZpb3VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvRG9BcnRpY2xlJyk7XG4gICAgaWYgKHRvRG9zUHJldmlvdXMpIHtcbiAgICAgICAgdG9Eb3NQcmV2aW91cy5yZW1vdmUoKVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgXG4gICAgY29uc3QgdG9Eb0FydGljbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcnRpY2xlJyk7XG4gICAgdG9Eb0FydGljbGUuY2xhc3NMaXN0LmFkZCgndG9Eb0FydGljbGUnKTtcbiAgICBcbiAgICB0b0Rvcy5mb3JFYWNoKCh0b2RvKSA9PiB7XG4gICAgICAgIFxuICAgIFxuICAgICAgICBjb25zdCB0b2RvQ2FyZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0b2RvQ2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0b0RvQ2FyZCcpXG4gICAgICAgIFxuICAgIFxuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9IGAke3RvZG8udGl0bGV9YFxuICAgICAgICB0b2RvQ2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBkZXNjcmlwdGlvbi5pbm5lclRleHQgPSBgZGVzY3JpcHRpb246ICR7dG9kby5kZXNjcmlwdGlvbn1gO1xuICAgICAgICB0b2RvQ2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgXG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGR1ZURhdGUuaW5uZXJUZXh0ID0gYER1ZSBkYXRlOiAke3RvZG8uZHVlRGF0ZX1gO1xuICAgICAgICB0b2RvQ2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChkdWVEYXRlKTtcbiAgICBcbiAgICAgICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHByaW9yaXR5LmlubmVyVGV4dCA9IGBQcmlvcml0eTogJHt0b2RvLnByaW9yaXR5fWA7XG4gICAgICAgIHRvZG9DYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKHByaW9yaXR5KTtcbiAgICBcbiAgICAgICAgXG4gICAgXG4gICAgICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgICBcbiAgICBcbiAgICAgICAgY29uc3Qgc2VsZWN0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBzZWxlY3RMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdwcm9qZWN0cycpO1xuICAgICAgICBzZWxlY3RMYWJlbC5pbm5lclRleHQgPSAnY2hvb3NlIHByb2plY3Q6ICdcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgcHJvamVjdFNlbGVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAncHJvamVjdHMnKTtcbiAgICAgICAgcHJvamVjdFNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Byb2plY3RzJyk7XG4gICAgICAgIHByb2plY3RTZWxlY3QuY2xhc3NMaXN0LmFkZCgnc2VsZWN0JylcbiAgICAgICAgY29uc3QgYW55T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGFueU9wdGlvbi5jbGFzc0xpc3QuYWRkKCdvcHRpb24nKTtcbiAgICAgICAgYW55T3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCAnYW55Jyk7XG4gICAgICAgIGFueU9wdGlvbi5pbm5lclRleHQgPSAnQW55JztcbiAgICAgICAgcHJvamVjdFNlbGVjdC5hcHBlbmRDaGlsZChhbnlPcHRpb24pXG4gICAgICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZChgb3B0aW9uYCk7XG4gICAgICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGAke3Byb2plY3QubmFtZX1gKTtcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBgJHtwcm9qZWN0Lm5hbWV9YFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByb2plY3RTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHByb2plY3RGb3JtLm9uY2hhbmdlID0gaGFuZGxlQ2hhbmdlO1xuICAgICAgICBwcm9qZWN0Rm9ybS5hcHBlbmRDaGlsZChzZWxlY3RMYWJlbCk7XG4gICAgICAgIHByb2plY3RGb3JtLmFwcGVuZENoaWxkKHByb2plY3RTZWxlY3QpO1xuICAgICAgICB0b2RvQ2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0Rm9ybSk7XG4gICAgICAgIFxuXG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UgKGUpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkUHJvamVjdCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0b2RvLnByb2plY3QgPSBzZWxlY3RlZFByb2plY3Q7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGluQXJyYXkgPSB0b0Rvcy5maW5kSW5kZXgoKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLnRpdGxlID09PSB0b2RvLnRpdGxlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0b0Rvc1tpbkFycmF5XSA9IHRvZG87XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRvRG9zVXBkYXRlZCA9IHRvRG9zO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZW5kZXJQcm9qZWN0cyhwcm9qZWN0cywgdG9Eb3NVcGRhdGVkKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIHRvRG9BcnRpY2xlLmFwcGVuZENoaWxkKHRvZG9DYXJkQ29udGFpbmVyKTtcbiAgICAgICAgXG4gICAgICAgIHRvRG9zQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvRG9BcnRpY2xlKVxuICAgICAgICBcbiAgICB9KVxuICAgICBcbn1cbiAgICAvKiBwcm9qZWN0IHJlbmRlcmluZyAqL1xuICAgIGZ1bmN0aW9uIHJlbmRlclByb2plY3RzKHByb2plY3RzLCB0b0Rvcykge1xuICAgICAgICBcbiAgICAgICAgLyogY2hlY2sgaWYgcHJvamVjdHMgYWxyZWFkeSBleGlzdHMsIGFuZCByZW1vdmUgaXQqL1xuICAgICAgICBjb25zdCBwcmV2aW91c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0c0NvbnRhaW5lcicpXG4gICAgICAgIGlmKHByZXZpb3VzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBwcmV2aW91c0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpZiBpdCBkb2VzbnQgZXhpc3QsIGNyZWF0ZSBpdCAqL1xuICAgICAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwcm9qZWN0c0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0c0NvbnRhaW5lcicpO1xuICAgICAgICAvKiByZW5kZXIgYW55IGJ1dHRvbiAqL1xuICAgICAgICBjb25zdCBhbnlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYW55QnRuLmlubmVyVGV4dCA9ICdBbnknO1xuICAgICAgICBhbnlCdG4uY2xhc3NMaXN0LmFkZCgncHJvamVjdEJ0bicpO1xuICAgICAgICBhbnlCdG4uc2V0QXR0cmlidXRlKCdhbnknLCAnYW55JylcbiAgICAgICAgYW55QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHByb2plY3RUb0RvcyA9IHRvRG9zLmZpbHRlciggKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLmFueSA9PT0gJ2FueSdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlbmRlclRvRG8ocHJvamVjdHNBcnJheSwgcHJvamVjdFRvRG9zKVxuICAgICAgICB9KVxuICAgICAgICBwcm9qZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChhbnlCdG4pXG4gICAgICAgIC8qIHJlbmRlciBlYWNoIHByb2plY3QgYXMgYSBidXR0b24sIGlmIHRoZXJlJ3MgbW9yZSB0aGFuIDAqL1xuICAgICAgICBpZiAocHJvamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgICAgIHByb2plY3RCdG4uaW5uZXJUZXh0ID0gcHJvamVjdC5uYW1lO1xuICAgICAgICAgICAgICAgIHByb2plY3RCdG4uY2xhc3NMaXN0LmFkZCgncHJvamVjdEJ0bicpO1xuICAgICAgICAgICAgICAgIHByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljayk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcHJvamVjdEJ0bi5zZXRBdHRyaWJ1dGUoJ3Byb2plY3QtbmFtZScsIHByb2plY3QubmFtZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgICAgICAgIHByb2plY3RzQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RCdG4pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qIGV2ZW50IGxpc3RlbmVyLCByZW5kZXJzIGV2ZXJ5IGVsZW1lbnQgdGhhdCBjb3JyZXNwb25kcyB3aXRoIHRoZSBwcm9qZWN0IGNsaWNrZWQqL1xuICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSl7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0XG4gICAgICAgICAgICBsZXQgcHJvamVjdENsaWNrZWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Byb2plY3QtbmFtZScpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgcHJvamVjdFRvRG9zID0gdG9Eb3MuZmlsdGVyKCAoZWwpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwucHJvamVjdCA9PT0gcHJvamVjdENsaWNrZWQgXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmVuZGVyVG9Ebyhwcm9qZWN0c0FycmF5LCBwcm9qZWN0VG9Eb3MpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICBcbiAgICAgICAgXG4gICAgICAgIHByb2plY3RzU2VjdGlvbi5hcHBlbmRDaGlsZChwcm9qZWN0c0NvbnRhaW5lcilcbiAgICAgICAgXG4gICAgICAgIFxuICAgIH1cbiAgICB9XG4gICAgXG5cblxuIiwiaW1wb3J0IHsgZG9tTWFuaXB1bGF0aW9uIH0gZnJvbSBcIi4vdG9kb1wiO1xuXG5kb21NYW5pcHVsYXRpb24oKTtcblxuXG5cblxuXG5cblxuXG5cbiJdLCJuYW1lcyI6WyJjaGVja0lmSXRFeGlzdHMiLCJwcmV2aW91c0Zvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiZm9yRWFjaCIsImZvcm0iLCJyZW1vdmUiLCJwcm9qZWN0Rm9ybSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0b0RvRm9ybSIsInRvZG9Gb3JtIiwiZGl2VGl0bGUiLCJkaXZUaXRsZUxhYmVsIiwic2V0QXR0cmlidXRlIiwiaW5uZXJUZXh0IiwiZGl2VGl0bGVJbnB1dCIsImFwcGVuZENoaWxkIiwiZGl2UHJpb3JpdHkiLCJzZWxlY3QiLCJkaXZQcmlvcml0eUxhYmVsIiwiZGl2UHJpb3JpdHlMb3ciLCJkaXZQcmlvcml0eU1pZCIsImRpdlByaW9yaXR5SGlnaCIsImRpdkRlc2NyaXB0aW9uIiwiZGl2RGVzY3JpcHRpb25MYWJlbCIsImRpdkRlc2NyaXB0aW9uSW5wdXQiLCJkaXZEYXRlIiwiZGl2RGF0ZUxhYmVsIiwiZGl2RGF0ZUlucHV0IiwiZGl2UHJvamVjdCIsInByb2plY3RzQXJyYXkiLCJ0b0RvcyIsInRvRG9zVXBkYXRlZCIsInByb2plY3RzU2VjdGlvbiIsInJvb3QiLCJuYXZCYXIiLCJuZXdQcm9qZWN0Iiwib25jbGljayIsImhhbmRsZUNsaWNrIiwibmV3VG9EbyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNsaWNrZWQiLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJwcm9qZWN0U2VsZWN0RGl2IiwicHJvamVjdFNlbGVjdExhYmVsIiwicHJvamVjdFNlbGVjdCIsInByb2plY3QiLCJwcm9qZWN0T3B0aW9uIiwibmFtZSIsInRvRG9zQ29udGFpbmVyIiwiVG9kbyIsImNvbnN0cnVjdG9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsInRoaXMiLCJhbnkiLCJwdXNoIiwiUHJvamVjdCIsInJlbmRlclRvRG8iLCJwcm9qZWN0cyIsInF1ZXJ5U2VsZWN0b3IiLCJ0b0Rvc1ByZXZpb3VzIiwidG9Eb0FydGljbGUiLCJ0b2RvIiwidG9kb0NhcmRDb250YWluZXIiLCJzZWxlY3RMYWJlbCIsImFueU9wdGlvbiIsIm9wdGlvbiIsIm9uY2hhbmdlIiwic2VsZWN0ZWRQcm9qZWN0IiwidmFsdWUiLCJpbkFycmF5IiwiZmluZEluZGV4IiwiZWwiLCJyZW5kZXJQcm9qZWN0cyIsInByZXZpb3VzQ29udGFpbmVyIiwicHJvamVjdHNDb250YWluZXIiLCJhbnlCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwicHJvamVjdFRvRG9zIiwiZmlsdGVyIiwicHJvamVjdENsaWNrZWQiLCJwcm9qZWN0QnRuIiwiZG9tTWFuaXB1bGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==