(()=>{"use strict";const e=function(){function e(){let e=document.querySelectorAll(".form");console.log(e),e.length>0&&e.forEach((e=>{e.remove()}))}return{projectForm:function(){e();let t=document.createElement("form");t.classList.add("form");let n=document.createElement("input");n.setAttribute("id","project-name"),n.setAttribute("type","text"),n.setAttribute("name","project");let o=document.createElement("label");o.setAttribute("for","project-name"),o.innerText="Project name: ";let i=document.createElement("input");return i.setAttribute("type","submit"),i.innerText="Submit Project",t.appendChild(o),t.appendChild(n),t.appendChild(i),t},toDoForm:function(){e();let t=document.createElement("form");t.classList.add("form");let n=document.createElement("div"),o=document.createElement("label");o.setAttribute("for","title"),o.innerText="Title: ";let i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("name","title"),i.setAttribute("id","title"),i.setAttribute("required",!0),n.appendChild(o),n.appendChild(i);let r=document.createElement("div"),c=document.createElement("select");c.setAttribute("id","select");let l=document.createElement("label");l.setAttribute("for","select"),l.innerText="Priority: ";let d=document.createElement("option");d.setAttribute("value","Low"),d.setAttribute("name","low"),d.setAttribute("selected",!0),d.setAttribute("required",!0),d.innerText="Low";let a=document.createElement("option");a.setAttribute("value","Mid"),a.setAttribute("name","mid"),a.setAttribute("required",!0),a.innerText="Mid";let s=document.createElement("option");s.setAttribute("value","High"),s.setAttribute("name","priority"),s.setAttribute("required",!0),s.innerText="High",r.appendChild(l),r.appendChild(c),c.appendChild(d),c.appendChild(a),c.appendChild(s),c.setAttribute("name","priority");let p=document.createElement("div"),m=document.createElement("label");m.setAttribute("for","description"),m.innerText="Description: ";let u=document.createElement("input");u.setAttribute("type","text"),u.setAttribute("name","description"),u.setAttribute("id","description"),p.appendChild(m),p.appendChild(u);let h=document.createElement("div"),b=document.createElement("label");b.setAttribute("for","date"),b.innerText="Due date: ";let E=document.createElement("input");E.setAttribute("type","date"),E.setAttribute("id","date"),E.setAttribute("name","date"),E.required=!0,h.appendChild(b),h.appendChild(E),document.createElement("div");let C=document.createElement("div");return t.appendChild(n),t.appendChild(r),t.appendChild(p),t.appendChild(h),t.appendChild(C),t}}}();(()=>{class t{constructor(e,t="no description",n,o,i="any"){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.project=i,this.any="any"}localStorageSet(){const e=JSON.parse(localStorage.getItem("todos"))||[];e.push({...this}),localStorage.setItem("todos",JSON.stringify(e))}removeFromLs(){let e=JSON.parse(localStorage.getItem("todos"));e||(e=[]);let t=this.title;const n=e.findIndex((e=>e.title===t));n>-1&&(e.splice(n,1),localStorage.setItem("todos",JSON.stringify(e))),l=[],o()}}class n{constructor(e){this.name=e,c.push(this)}setProjectInLs(){console.log("asdeano");const e=JSON.parse(localStorage.getItem("projects"))||[];e.push(this),localStorage.setItem("projects",JSON.stringify(e)),console.log(e)}}function o(){r=JSON.parse(localStorage.getItem("todos"))||[];let e=[];r.length>0&&r.forEach((n=>{let o=Object.assign(new t,n);e.push(o),l=e,d=e}))}let i,r,c=[],l=[],d=[];o(),i=JSON.parse(localStorage.getItem("projects"))||[],c=i;const a=document.createElement("section");a.classList.add("projectsSection"),root.appendChild(a);const s=document.createElement("section");s.classList.add("navBar");const p=document.createElement("button");p.innerText="NEW PROJECT",p.setAttribute("name","newProject"),p.onclick=u;const m=document.createElement("button");function u(o){if(o.preventDefault,"newProject"===o.target.getAttribute("name")){let t=e.projectForm();t.onsubmit=e=>{e.preventDefault();let o=t.elements.project.value;new n(o).setProjectInLs(),E(c,l),b(c,l)},root.appendChild(t)}else{let n=e.toDoForm();const o=document.createElement("div"),i=document.createElement("label");i.innerText="Project ";const r=document.createElement("select");r.setAttribute("name","project"),c.forEach((e=>{let t=document.createElement("option");t.innerText=`${e.name}`,r.appendChild(t)}));const d=document.createElement("input");d.setAttribute("type","submit"),d.innerText="Add To-Do",n.appendChild(o),o.appendChild(i),o.appendChild(r),n.appendChild(d),root.appendChild(n),n.onsubmit=e=>{e.preventDefault();let o=n.elements.date.value,i=n.elements.title.value,r=n.elements.description.value,d=n.elements.priority.value,a=n.elements.project.value,s=new t(i,r,o,d,a);s.localStorageSet(),l.push(s),b(c,l)}}}m.setAttribute("name","newToDo"),m.innerText="NEW TO-DO",m.onclick=u,s.appendChild(p),s.appendChild(m),root.appendChild(s);const h=document.createElement("section");function b(e,t){o();const n=document.querySelector(".toDoArticle");n&&n.remove();const i=document.createElement("article");i.classList.add("toDoArticle"),t.forEach((n=>{const r=document.createElement("div");r.classList.add("toDoCard");const c=document.createElement("h2");c.innerText=`${n.title}`,r.appendChild(c);const l=document.createElement("p");l.innerText=`Due date: ${n.dueDate}`,r.appendChild(l);const a=document.createElement("button");if(a.innerText="Remove To-Do",a.onclick=()=>{r.remove(),n.removeFromLs(),o()},r.appendChild(a),"any"!==n.project){const e=document.createElement("p");e.classList.add("project"),e.innerText=`Assigned project: ${n.project}`,r.appendChild(e)}!function e(){const t=document.createElement("button");t.classList.add("details"),t.innerText="Details",t.onclick=function(){r.appendChild(s),r.appendChild(p),m.appendChild(u),m.appendChild(E);document.querySelector(".details").remove();const t=document.createElement("button");t.innerText="Go Back",r.appendChild(t),t.onclick=()=>{document.querySelector(".project").remove(),p.remove(),u.remove(),E.remove(),t.remove(),e()}},r.appendChild(t)}();const s=document.createElement("p");""!==n.description?s.innerText=`description: ${n.description}`:s.innerText="No description";const p=document.createElement("p");p.innerText=`Priority: ${n.priority}`;const m=document.createElement("form"),u=document.createElement("label");u.setAttribute("for","projects"),u.innerText="choose project: ";const E=document.createElement("select");E.setAttribute("name","projects"),E.setAttribute("id","projects"),E.classList.add("select");const C=document.createElement("option");C.classList.add("option"),C.setAttribute("value","any"),C.innerText="Any",E.appendChild(C),e.forEach((e=>{const t=document.createElement("option");t.classList.add("option"),t.setAttribute("value",`${e.name}`),t.innerText=`${e.name}`,E.appendChild(t)})),m.onchange=function(o){const i=o.target.value;if(n.project=i,d){const o=d.findIndex((e=>e.title===n.title));t[o]=n,d=t,b(e,d)}const r=t.findIndex((e=>e.title===n.title));t[r]=n,d=t},r.appendChild(m),i.appendChild(r),h.appendChild(i)}))}function E(e,t){const n=document.querySelector(".projectsContainer");n&&n.remove();const o=document.createElement("div");o.classList.add("projectsContainer");const i=document.createElement("button");if(i.innerText="Any",i.classList.add("projectBtn"),i.setAttribute("any","any"),i.addEventListener("click",(()=>{let n=t.filter((e=>"any"===e.any));b(e,n)})),o.appendChild(i),e.length>0){function r(n){n.preventDefault;let o=n.target.getAttribute("project-name"),i=t.filter((e=>e.project===o));b(e,i)}e.forEach((e=>{const t=document.createElement("button");t.innerText=e.name,t.classList.add("projectBtn"),t.addEventListener("click",r),t.setAttribute("project-name",e.name),o.appendChild(t)}))}a.appendChild(o)}h.classList.add("toDosSection"),root.appendChild(h),E(c,l),b(c,l)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBa0J6RyxVQUFVQyxJQUFJLHFCQUVoQyxNQUFNeUcsRUFBU3BILFNBQVNTLGNBQWMsVUFhdEMsR0FaQTJHLEVBQU9yRyxVQUFZLE1BQ25CcUcsRUFBTzFHLFVBQVVDLElBQUksY0FDckJ5RyxFQUFPdkcsYUFBYSxNQUFPLE9BQzNCdUcsRUFBT0MsaUJBQWlCLFNBQVMsS0FDN0IsSUFBSUMsRUFBZXpELEVBQU0wRCxRQUFTTixHQUNaLFFBQVhBLEVBQUdwRSxNQUdkNkMsRUFBV3pCLEVBQWVxRCxFQUFZLElBRTFDSCxFQUFrQmxHLFlBQVltRyxHQUUxQm5ELEVBQWM3RCxPQUFTLEVBQUcsQ0FlMUIsU0FBUzRFLEVBQVlFLEdBQ3JCQSxFQUFFQyxlQUNGLElBQUlxQyxFQUFpQnRDLEVBQUVFLE9BQU9DLGFBQWEsZ0JBRXZDaUMsRUFBZXpELEVBQU0wRCxRQUFTTixHQUN2QkEsRUFBR3RFLFVBQVk2RSxJQUUxQjlCLEVBQVd6QixFQUFlcUQsRUFDMUIsQ0F0QkFyRCxFQUFjNUQsU0FBUXNDLElBR2xCLE1BQU04RSxFQUFhekgsU0FBU1MsY0FBYyxVQUMxQ2dILEVBQVcxRyxVQUFZNEIsRUFBUXFCLEtBQy9CeUQsRUFBVy9HLFVBQVVDLElBQUksY0FDekI4RyxFQUFXSixpQkFBaUIsUUFBU3JDLEdBRXJDeUMsRUFBVzVHLGFBQWEsZUFBZ0I4QixFQUFRcUIsTUFHaERtRCxFQUFrQmxHLFlBQVl3RyxFQUFVLEdBYWhELENBSUE5QyxFQUFnQjFELFlBQVlrRyxFQUdoQyxDQXRRQWpCLEVBQWV4RixVQUFVQyxJQUFJLGdCQUM3QmlFLEtBQUszRCxZQUFZaUYsR0FFakJULEVBQWV4QixFQUFlSixHQUU5QjZCLEVBQVd6QixFQUFlSixFQWlRMUIsRUNqY0o2RCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvZm9ybXMuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZm9ybXMgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGNoZWNrSWZJdEV4aXN0cygpIHtcbiAgICBsZXQgcHJldmlvdXNGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0nKTtcbiAgICBjb25zb2xlLmxvZyhwcmV2aW91c0Zvcm0pXG4gICAgaWYgKHByZXZpb3VzRm9ybS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHByZXZpb3VzRm9ybS5mb3JFYWNoKChmb3JtKSA9PiB7XG4gICAgICAgICAgICBmb3JtLnJlbW92ZSgpO1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9IFxuICB9O1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RGb3JtKCkge1xuICAgICAgLy8gQ3JlYXRlIGFuZCByZXR1cm4gdGhlIEhUTUwgZm9yIHRoZSBwcm9qZWN0IGZvcm1cbiAgICAgIGNoZWNrSWZJdEV4aXN0cygpO1xuICAgICAgbGV0IHByb2plY3RGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LmFkZCgnZm9ybScpO1xuICAgICAgXG4gICAgICBsZXQgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgcHJvamVjdE5hbWUuc2V0QXR0cmlidXRlKCdpZCcsICdwcm9qZWN0LW5hbWUnKTtcbiAgICAgIHByb2plY3ROYW1lLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICBwcm9qZWN0TmFtZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAncHJvamVjdCcpXG4gICAgICBcbiAgICAgIGxldCBwcm9qZWN0TmFtZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIHByb2plY3ROYW1lTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAncHJvamVjdC1uYW1lJyk7XG4gICAgICBwcm9qZWN0TmFtZUxhYmVsLmlubmVyVGV4dCA9ICdQcm9qZWN0IG5hbWU6ICdcblxuICAgICAgbGV0IHN1Ym1pdFByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgc3VibWl0UHJvamVjdEJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnc3VibWl0Jyk7XG4gICAgICBzdWJtaXRQcm9qZWN0QnRuLmlubmVyVGV4dCA9ICdTdWJtaXQgUHJvamVjdCc7XG5cblxuICAgICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQocHJvamVjdE5hbWVMYWJlbCk7XG4gICAgICBwcm9qZWN0Rm9ybS5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZSk7XG4gICAgICBwcm9qZWN0Rm9ybS5hcHBlbmRDaGlsZChzdWJtaXRQcm9qZWN0QnRuKVxuICAgICAgXG4gICAgICAgIFxuICAgICAgcmV0dXJuIHByb2plY3RGb3JtO1xuICAgIH1cbiAgXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9Eb0Zvcm0oKSB7XG4gICAgICAvLyBDcmVhdGUgYW5kIHJldHVybiB0aGUgSFRNTCBmb3IgdGhlIHRvLWRvIGZvcm1cbiAgICAgIGNoZWNrSWZJdEV4aXN0cygpO1xuICAgICAgbGV0IHRvZG9Gb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgICAgdG9kb0Zvcm0uY2xhc3NMaXN0LmFkZCgnZm9ybScpXG4gICAgICAvKiB0aXRsZSBpbnB1dDogKi9cbiAgICAgIGxldCBkaXZUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbGV0IGRpdlRpdGxlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgZGl2VGl0bGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICd0aXRsZScpO1xuICAgICAgZGl2VGl0bGVMYWJlbC5pbm5lclRleHQgPSAnVGl0bGU6ICc7XG4gICAgICBsZXQgZGl2VGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBkaXZUaXRsZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgICBkaXZUaXRsZUlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICd0aXRsZScpO1xuICAgICAgZGl2VGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RpdGxlJyk7XG4gICAgICBkaXZUaXRsZUlucHV0LnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCB0cnVlKTtcbiAgICAgIFxuICAgICAgZGl2VGl0bGUuYXBwZW5kQ2hpbGQoZGl2VGl0bGVMYWJlbCk7XG4gICAgICBkaXZUaXRsZS5hcHBlbmRDaGlsZChkaXZUaXRsZUlucHV0KTtcbiAgICAgIC8qIHByaW9yaXR5IGlucHV0OiAqL1xuICAgICAgbGV0IGRpdlByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBsZXQgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICBzZWxlY3Quc2V0QXR0cmlidXRlKCdpZCcsICdzZWxlY3QnKVxuICAgICAgbGV0IGRpdlByaW9yaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgZGl2UHJpb3JpdHlMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdzZWxlY3QnKTtcbiAgICAgIGRpdlByaW9yaXR5TGFiZWwuaW5uZXJUZXh0ID0gJ1ByaW9yaXR5OiAnO1xuICAgICAgICAgIC8qIG9wdGlvbnMgKi9cbiAgICAgIGxldCBkaXZQcmlvcml0eUxvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgZGl2UHJpb3JpdHlMb3cuc2V0QXR0cmlidXRlKCd2YWx1ZScsICdMb3cnKTtcbiAgICAgIGRpdlByaW9yaXR5TG93LnNldEF0dHJpYnV0ZSgnbmFtZScsICdsb3cnKTtcbiAgICAgIGRpdlByaW9yaXR5TG93LnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgIGRpdlByaW9yaXR5TG93LnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCB0cnVlKTtcbiAgICAgIGRpdlByaW9yaXR5TG93LmlubmVyVGV4dCA9ICdMb3cnO1xuXG4gICAgICBsZXQgZGl2UHJpb3JpdHlNaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIGRpdlByaW9yaXR5TWlkLnNldEF0dHJpYnV0ZSgndmFsdWUnLCAnTWlkJyk7XG4gICAgICBkaXZQcmlvcml0eU1pZC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnbWlkJyk7XG4gICAgICBkaXZQcmlvcml0eU1pZC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgICBkaXZQcmlvcml0eU1pZC5pbm5lclRleHQgPSAnTWlkJztcbiAgICAgXG4gICAgICBsZXQgZGl2UHJpb3JpdHlIaWdoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBkaXZQcmlvcml0eUhpZ2guc2V0QXR0cmlidXRlKCd2YWx1ZScsICdIaWdoJyk7XG4gICAgICBkaXZQcmlvcml0eUhpZ2guc2V0QXR0cmlidXRlKCduYW1lJywgJ3ByaW9yaXR5Jyk7XG4gICAgICBkaXZQcmlvcml0eUhpZ2guc2V0QXR0cmlidXRlKCdyZXF1aXJlZCcsIHRydWUpO1xuICAgICAgZGl2UHJpb3JpdHlIaWdoLmlubmVyVGV4dCA9ICdIaWdoJztcbiAgICAgIFxuICAgICAgZGl2UHJpb3JpdHkuYXBwZW5kQ2hpbGQoZGl2UHJpb3JpdHlMYWJlbCk7XG4gICAgICBkaXZQcmlvcml0eS5hcHBlbmRDaGlsZChzZWxlY3QpO1xuICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKGRpdlByaW9yaXR5TG93KTtcbiAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChkaXZQcmlvcml0eU1pZCk7XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQoZGl2UHJpb3JpdHlIaWdoKTtcbiAgICAgIHNlbGVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAncHJpb3JpdHknKVxuXG4gICAgICAvKiBkZXNjcmlwdGlvbiBpbnB1dCAqL1xuICAgICAgbGV0IGRpdkRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBsZXQgZGl2RGVzY3JpcHRpb25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICBkaXZEZXNjcmlwdGlvbkxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICBkaXZEZXNjcmlwdGlvbkxhYmVsLmlubmVyVGV4dCA9ICdEZXNjcmlwdGlvbjogJztcbiAgICAgIGxldCBkaXZEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgIGRpdkRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgIGRpdkRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICBkaXZEZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCAnZGVzY3JpcHRpb24nKTtcbiAgICAgIFxuICAgICAgZGl2RGVzY3JpcHRpb24uYXBwZW5kQ2hpbGQoZGl2RGVzY3JpcHRpb25MYWJlbCk7XG4gICAgICBkaXZEZXNjcmlwdGlvbi5hcHBlbmRDaGlsZChkaXZEZXNjcmlwdGlvbklucHV0KTtcblxuICAgICAgLyogRHVlIGRhdGUgaW5wdXQgKi9cbiAgICAgIGxldCBkaXZEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBsZXQgZGl2RGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIGRpdkRhdGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkYXRlJylcbiAgICAgIGRpdkRhdGVMYWJlbC5pbm5lclRleHQgPSAnRHVlIGRhdGU6ICdcbiAgICAgIGxldCBkaXZEYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgZGl2RGF0ZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJyk7XG4gICAgICBkaXZEYXRlSW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsICdkYXRlJyk7XG4gICAgICBkaXZEYXRlSW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgJ2RhdGUnKTtcbiAgICAgIGRpdkRhdGVJbnB1dC5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICAgIGRpdkRhdGUuYXBwZW5kQ2hpbGQoZGl2RGF0ZUxhYmVsKTtcbiAgICAgIGRpdkRhdGUuYXBwZW5kQ2hpbGQoZGl2RGF0ZUlucHV0KTtcblxuXG4gICAgICBcblxuICAgICAgXG4gICAgICBcbiAgICAgIFxuICAgICAgbGV0IGRpdk5vdGVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBsZXQgZGl2UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQoZGl2VGl0bGUpO1xuICAgICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQoZGl2UHJpb3JpdHkpO1xuICAgICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQoZGl2RGVzY3JpcHRpb24pO1xuICAgICAgdG9kb0Zvcm0uYXBwZW5kQ2hpbGQoZGl2RGF0ZSk7XG4gICAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZChkaXZQcm9qZWN0KTtcbiAgICAgIHJldHVybiB0b2RvRm9ybTtcbiAgICB9XG4gIFxuICAgIC8vIEV4cG9zZSB0aGUgZnVuY3Rpb25zIHlvdSB3YW50IHRvIG1ha2UgcHVibGljXG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2plY3RGb3JtOiBjcmVhdGVQcm9qZWN0Rm9ybSxcbiAgICAgIHRvRG9Gb3JtOiBjcmVhdGVUb0RvRm9ybSxcbiAgICB9O1xuICB9KSgpOyIsIlxuaW1wb3J0IHsgZm9ybXMgfSBmcm9tIFwiLi9mb3Jtc1wiO1xuZXhwb3J0IGNvbnN0IGRvbU1hbmlwdWxhdGlvbiA9ICgpID0+IHtcbiAgICAvKiBjbGFzc2VzICovXG4gICAgY2xhc3MgVG9kbyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbj0nbm8gZGVzY3JpcHRpb24nLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdD0nYW55Jykge1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlLFxuICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZSxcbiAgICAgICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdFxuICAgICAgICAgICAgdGhpcy5hbnkgPSAnYW55JztcbiAgICB9XG4gICAgICAgIGxvY2FsU3RvcmFnZVNldCgpIHtcbiAgICAgICAgICAgIC8vIFJldHJpZXZlIGV4aXN0aW5nIHRvZG9zIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdUb2RvcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJykpIHx8IFtdO1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgdG9kbyB0byB0aGUgZXhpc3RpbmcgdG9kb3NcbiAgICAgICAgICAgIGV4aXN0aW5nVG9kb3MucHVzaCh7IC4uLnRoaXMgfSk7XG4gICAgICAgICAgICAvLyBTYXZlIHRoZSB1cGRhdGVkIHRvZG9zIGFycmF5IGJhY2sgdG8gbG9jYWwgc3RvcmFnZVxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkoZXhpc3RpbmdUb2RvcykpO1xuICAgICAgICB9O1xuICAgICAgICByZW1vdmVGcm9tTHMoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGV4aXN0aW5nVG9kb3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvcycpKVxuICAgICAgICAgICAgaWYgKCFleGlzdGluZ1RvZG9zKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdUb2RvcyA9IFtdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IG5hbWVPZlRvZG8gPSB0aGlzLnRpdGxlO1xuICAgICAgICAgICAgY29uc3QgdG9Eb0luZGV4ID0gZXhpc3RpbmdUb2Rvcy5maW5kSW5kZXgoICh0b2RvKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvZG8udGl0bGUgPT09IG5hbWVPZlRvZG9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodG9Eb0luZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBleGlzdGluZ1RvZG9zLnNwbGljZSh0b0RvSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvcycsIEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nVG9kb3MpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0b0RvcyA9IFtdO1xuICAgICAgICAgICAgZ2V0VG9Eb3MoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICB9XG4gICAgXG4gICAgICAgIGNsYXNzIFByb2plY3Qge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZVxuICAgICAgICAgICAgICAgIHByb2plY3RzQXJyYXkucHVzaCh0aGlzKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRQcm9qZWN0SW5McygpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYXNkZWFubycpXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdQcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykpIHx8ICBbXTtcbiAgICAgICAgICAgICAgICBleGlzdGluZ1Byb2plY3RzLnB1c2godGhpcyk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkoZXhpc3RpbmdQcm9qZWN0cykpO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXhpc3RpbmdQcm9qZWN0cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgIFxuICAgIH0gXG4gICAgLyogZ2xvYmFsIHZhcmlhYmxlcyAqL1xuICAgIGZ1bmN0aW9uIGdldFRvRG9zKCkge1xuICAgICAgICB0b0Rvc0Zyb21McyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJykpIHx8IFtdO1xuICAgICAgICBcbiAgICAgICAgbGV0IGxzVG9Eb3NXaXRoTWV0aG9kcyA9IFtdO1xuICAgICAgICBpZiAodG9Eb3NGcm9tTHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdG9Eb3NGcm9tTHMuZm9yRWFjaCgodG9kbykgPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCB0b2RvRnJvbUxzID0gT2JqZWN0LmFzc2lnbihuZXcgVG9kbygpLCB0b2RvICk7XG4gICAgICAgICAgICAgICAgbHNUb0Rvc1dpdGhNZXRob2RzLnB1c2godG9kb0Zyb21Mcyk7XG4gICAgICAgICAgICAgICAgdG9Eb3MgPSBsc1RvRG9zV2l0aE1ldGhvZHM7XG4gICAgICAgICAgICAgICAgdG9Eb3NVcGRhdGVkID0gbHNUb0Rvc1dpdGhNZXRob2RzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRQcm9qZWN0cygpIHtcbiAgICAgICAgcHJvamVjdHNGcm9tTHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpKSB8fCBbXTtcbiAgICAgICAgcHJvamVjdHNBcnJheSA9IHByb2plY3RzRnJvbUxzO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICBsZXQgcHJvamVjdHNGcm9tTHM7XG4gICAgbGV0IHRvRG9zRnJvbUxzO1xuICAgIGxldCBwcm9qZWN0c0FycmF5ID0gW10gXG4gICAgbGV0IHRvRG9zID0gIFtdO1xuICAgIGxldCB0b0Rvc1VwZGF0ZWQgPSBbXTtcbiAgICBnZXRUb0RvcygpO1xuICAgIGdldFByb2plY3RzKCk7XG4gICAgXG4gICBcbiAgIFxuICAgIFxuICAgIC8qIERPTSBzdGF0aWMgc2VjdGlvbnMgKi9cbiAgICBcblxuICAgIGNvbnN0IHByb2plY3RzU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcbiAgICBwcm9qZWN0c1NlY3Rpb24uY2xhc3NMaXN0LmFkZCgncHJvamVjdHNTZWN0aW9uJyk7XG4gICAgcm9vdC5hcHBlbmRDaGlsZChwcm9qZWN0c1NlY3Rpb24pXG5cbiAgICBjb25zdCBuYXZCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gICAgbmF2QmFyLmNsYXNzTGlzdC5hZGQoJ25hdkJhcicpO1xuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBuZXdQcm9qZWN0LmlubmVyVGV4dCA9ICdORVcgUFJPSkVDVCc7XG4gICAgbmV3UHJvamVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnbmV3UHJvamVjdCcpO1xuICAgIG5ld1Byb2plY3Qub25jbGljayA9IGhhbmRsZUNsaWNrO1xuXG4gICAgY29uc3QgbmV3VG9EbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG5ld1RvRG8uc2V0QXR0cmlidXRlKCduYW1lJywgJ25ld1RvRG8nKTtcbiAgICBuZXdUb0RvLmlubmVyVGV4dCA9ICdORVcgVE8tRE8nO1xuICAgIG5ld1RvRG8ub25jbGljayA9IGhhbmRsZUNsaWNrO1xuXG4gICAgbmF2QmFyLmFwcGVuZENoaWxkKG5ld1Byb2plY3QpO1xuICAgIG5hdkJhci5hcHBlbmRDaGlsZChuZXdUb0RvKTtcbiAgICByb290LmFwcGVuZENoaWxkKG5hdkJhcik7XG5cbiAgICBcbiAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHRcbiAgICAgICAgbGV0IGNsaWNrZWQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjbGlja2VkID09PSAnbmV3UHJvamVjdCcpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHByb2plY3RGb3JtID0gZm9ybXMucHJvamVjdEZvcm0oKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvamVjdEZvcm0ub25zdWJtaXQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSBwcm9qZWN0Rm9ybS5lbGVtZW50c1tcInByb2plY3RcIl0udmFsdWU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UHJvamVjdCA9IG5ldyBQcm9qZWN0KHByb2plY3ROYW1lKTtcbiAgICAgICAgICAgICAgICBuZXdQcm9qZWN0LnNldFByb2plY3RJbkxzKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVuZGVyUHJvamVjdHMocHJvamVjdHNBcnJheSwgdG9Eb3MpOyBcbiAgICAgICAgICAgICAgICByZW5kZXJUb0RvKHByb2plY3RzQXJyYXksIHRvRG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQocHJvamVjdEZvcm0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdG9kb0Zvcm0gPSBmb3Jtcy50b0RvRm9ybSgpO1xuICAgICAgICAgICAgLyogc2VsZWN0IHByb2plY3QgKi9cbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3RMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgICAgICBwcm9qZWN0U2VsZWN0TGFiZWwuaW5uZXJUZXh0ID0gXCJQcm9qZWN0IFwiXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0U2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICAgICAgICBwcm9qZWN0U2VsZWN0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdwcm9qZWN0JylcbiAgICAgICAgICAgIHByb2plY3RzQXJyYXkuZm9yRWFjaCggKHByb2plY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgICAgIHByb2plY3RPcHRpb24uaW5uZXJUZXh0ID0gYCR7cHJvamVjdC5uYW1lfWBcbiAgICAgICAgICAgICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNvbnN0IHN1Ym1pdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHN1Ym1pdElucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcbiAgICAgICAgICAgIHN1Ym1pdElucHV0LmlubmVyVGV4dCA9ICdBZGQgVG8tRG8nO1xuXG4gICAgICAgICAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZChwcm9qZWN0U2VsZWN0RGl2KTtcbiAgICAgICAgICAgIHByb2plY3RTZWxlY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdFNlbGVjdExhYmVsKTtcbiAgICAgICAgICAgIHByb2plY3RTZWxlY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdFNlbGVjdCk7XG4gICAgICAgICAgICB0b2RvRm9ybS5hcHBlbmRDaGlsZChzdWJtaXRJbnB1dClcbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQodG9kb0Zvcm0pO1xuXG4gICAgICAgICAgICB0b2RvRm9ybS5vbnN1Ym1pdD0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGUgPSB0b2RvRm9ybS5lbGVtZW50c1tcImRhdGVcIl0udmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gdG9kb0Zvcm0uZWxlbWVudHNbXCJ0aXRsZVwiXS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSB0b2RvRm9ybS5lbGVtZW50c1tcImRlc2NyaXB0aW9uXCJdLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IHRvZG9Gb3JtLmVsZW1lbnRzW1wicHJpb3JpdHlcIl0udmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHByb2plY3QgPSB0b2RvRm9ybS5lbGVtZW50c1tcInByb2plY3RcIl0udmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHN1Ym1pdHRlZFRvZG8gPSBuZXcgVG9kbyh0aXRsZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5LCBwcm9qZWN0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzdWJtaXR0ZWRUb2RvLmxvY2FsU3RvcmFnZVNldCgpO1xuICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgdG9Eb3MucHVzaChzdWJtaXR0ZWRUb2RvKTtcblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJlbmRlclRvRG8ocHJvamVjdHNBcnJheSwgdG9Eb3MpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgdG9Eb3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gICAgdG9Eb3NDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9Eb3NTZWN0aW9uJylcbiAgICByb290LmFwcGVuZENoaWxkKHRvRG9zQ29udGFpbmVyKVxuXG4gICAgcmVuZGVyUHJvamVjdHMocHJvamVjdHNBcnJheSwgdG9Eb3MpO1xuICAgIFxuICAgIHJlbmRlclRvRG8ocHJvamVjdHNBcnJheSwgdG9Eb3MpO1xuICAgIFxuXG4gICAgLyogcmVuZGVyIGEgdG9kbyBpdGVtICovXG4gICAgZnVuY3Rpb24gcmVuZGVyVG9EbyAocHJvamVjdHNBcnJheSwgdG9Eb3MpIHtcbiAgICBnZXRUb0RvcygpO1xuICAgIFxuXG4gICAgXG4gICBcbiAgIFxuICAgICAgICBcbiAgICBjb25zdCB0b0Rvc1ByZXZpb3VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvRG9BcnRpY2xlJyk7XG4gICAgaWYgKHRvRG9zUHJldmlvdXMpIHtcbiAgICAgICAgdG9Eb3NQcmV2aW91cy5yZW1vdmUoKVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgXG4gICAgY29uc3QgdG9Eb0FydGljbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcnRpY2xlJyk7XG4gICAgdG9Eb0FydGljbGUuY2xhc3NMaXN0LmFkZCgndG9Eb0FydGljbGUnKTtcbiAgICBcbiAgICB0b0Rvcy5mb3JFYWNoKCh0b2RvKSA9PiB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgY29uc3QgdG9kb0NhcmRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdG9kb0NhcmRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9Eb0NhcmQnKTtcbiAgICAgICAgXG4gICAgXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gYCR7dG9kby50aXRsZX1gXG4gICAgICAgIHRvZG9DYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuICAgICAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBkdWVEYXRlLmlubmVyVGV4dCA9IGBEdWUgZGF0ZTogJHt0b2RvLmR1ZURhdGV9YDtcbiAgICAgICAgdG9kb0NhcmRDb250YWluZXIuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XG5cbiAgICAgICAgY29uc3QgcmVtb3ZlVG9kb0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICByZW1vdmVUb2RvQnRuLmlubmVyVGV4dCA9ICdSZW1vdmUgVG8tRG8nO1xuICAgICAgICByZW1vdmVUb2RvQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRvZG9DYXJkQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgdG9kby5yZW1vdmVGcm9tTHMoKTtcbiAgICAgICAgICAgIGdldFRvRG9zKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB9O1xuICAgICAgICB0b2RvQ2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChyZW1vdmVUb2RvQnRuKTtcblxuICAgICAgICBcblxuICAgICAgICBpZiAodG9kby5wcm9qZWN0ICE9PSAnYW55Jykge1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpXG4gICAgICAgICAgICBwcm9qZWN0LmlubmVyVGV4dCA9IGBBc3NpZ25lZCBwcm9qZWN0OiAke3RvZG8ucHJvamVjdH1gO1xuICAgICAgICAgICAgdG9kb0NhcmRDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG5cblxuICAgICAgICAoZnVuY3Rpb24gY3JlYXRlRGV0YWlsQnRuICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbHNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIGRldGFpbHNCdG4uY2xhc3NMaXN0LmFkZCgnZGV0YWlscycpXG4gICAgICAgICAgICBkZXRhaWxzQnRuLmlubmVyVGV4dCA9ICdEZXRhaWxzJztcbiAgICAgICAgICAgIGRldGFpbHNCdG4ub25jbGljayA9IGRldGFpbENsaWNrSGFuZGxlcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdG9kb0NhcmRDb250YWluZXIuYXBwZW5kQ2hpbGQoZGV0YWlsc0J0bik7XG4gICAgICAgICAgICBmdW5jdGlvbiBkZXRhaWxDbGlja0hhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgdG9kb0NhcmRDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIHRvZG9DYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0Rm9ybS5hcHBlbmRDaGlsZChzZWxlY3RMYWJlbCk7XG4gICAgICAgICAgICAgICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQocHJvamVjdFNlbGVjdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGV0YWlsc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZXRhaWxzJyk7XG4gICAgICAgICAgICAgICAgZGV0YWlsc0J0bi5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bmRldGFpbGVkQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgdW5kZXRhaWxlZEJ0bi5pbm5lclRleHQgPSAnR28gQmFjayc7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdG9kb0NhcmRDb250YWluZXIuYXBwZW5kQ2hpbGQodW5kZXRhaWxlZEJ0bik7XG5cbiAgICAgICAgICAgICAgICB1bmRldGFpbGVkQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdExhYmVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0U2VsZWN0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB1bmRldGFpbGVkQnRuLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVEZXRhaWxCdG4oKTtcbiAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgaWYgKHRvZG8uZGVzY3JpcHRpb24gIT09ICcnKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbi5pbm5lclRleHQgPSBgZGVzY3JpcHRpb246ICR7dG9kby5kZXNjcmlwdGlvbn1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24uaW5uZXJUZXh0ID0nTm8gZGVzY3JpcHRpb24nXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgIFxuICAgICAgICBcbiAgICBcbiAgICAgICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIHByaW9yaXR5LmlubmVyVGV4dCA9IGBQcmlvcml0eTogJHt0b2RvLnByaW9yaXR5fWA7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgXG4gICAgICAgIFxuICAgIFxuICAgICAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICAgICAgXG4gICAgXG4gICAgICAgIGNvbnN0IHNlbGVjdExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgc2VsZWN0TGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAncHJvamVjdHMnKTtcbiAgICAgICAgc2VsZWN0TGFiZWwuaW5uZXJUZXh0ID0gJ2Nob29zZSBwcm9qZWN0OiAnXG4gICAgICAgIFxuICAgICAgICBjb25zdCBwcm9qZWN0U2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICAgIHByb2plY3RTZWxlY3Quc2V0QXR0cmlidXRlKCduYW1lJywgJ3Byb2plY3RzJyk7XG4gICAgICAgIHByb2plY3RTZWxlY3Quc2V0QXR0cmlidXRlKCdpZCcsICdwcm9qZWN0cycpO1xuICAgICAgICBwcm9qZWN0U2VsZWN0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdCcpXG4gICAgICAgIGNvbnN0IGFueU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBhbnlPcHRpb24uY2xhc3NMaXN0LmFkZCgnb3B0aW9uJyk7XG4gICAgICAgIGFueU9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJ2FueScpO1xuICAgICAgICBhbnlPcHRpb24uaW5uZXJUZXh0ID0gYCR7J0FueSd9YFxuICAgICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKGFueU9wdGlvbilcbiAgICAgICAgcHJvamVjdHNBcnJheS5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoYG9wdGlvbmApO1xuICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBgJHtwcm9qZWN0Lm5hbWV9YCk7XG4gICAgICAgICAgICBvcHRpb24uaW5uZXJUZXh0ID0gYCR7cHJvamVjdC5uYW1lfWBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9qZWN0Rm9ybS5vbmNoYW5nZSA9IGhhbmRsZUNoYW5nZTtcbiAgICAgICAgXG4gICAgICAgIHRvZG9DYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RGb3JtKTtcbiAgICAgICAgXG5cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSAoZSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgIC8qIHJldHJpZXZlcyB0aGUgdmFsdWUgb2YgdGhlIG9wdGlvbiBzZWxlY3RlZCAqL1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRQcm9qZWN0ID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgIC8qIGFzc2lnbnMgdGhhdCB2YWx1ZSB0byB0aGUgcHJvamVjdCBwcm9wZXJ0eSBvZiB0aGUgdG9kbyAqL1xuICAgICAgICAgICAgdG9kby5wcm9qZWN0ID0gc2VsZWN0ZWRQcm9qZWN0O1xuICAgICAgICAgICAgLyogZmluZHMgdGhhdCB0b2RvIGluIHRoZSB0b2RvcyBhcnJheSovXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0b0Rvc1VwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBpbkFycmF5ID0gdG9Eb3NVcGRhdGVkLmZpbmRJbmRleCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLnRpdGxlID09PSB0b2RvLnRpdGxlXG4gICAgICAgICAgICAgICAgfSkgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRvRG9zW2luQXJyYXldID0gdG9kbztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRvRG9zVXBkYXRlZCA9IHRvRG9zO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgcmVuZGVyVG9Ebyhwcm9qZWN0c0FycmF5LCB0b0Rvc1VwZGF0ZWQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5BcnJheSA9IHRvRG9zLmZpbmRJbmRleCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwudGl0bGUgPT09IHRvZG8udGl0bGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0b0Rvc1tpbkFycmF5XSA9IHRvZG87XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRvRG9zVXBkYXRlZCA9IHRvRG9zO1xuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICB0b0RvQXJ0aWNsZS5hcHBlbmRDaGlsZCh0b2RvQ2FyZENvbnRhaW5lcik7XG4gICAgICAgIFxuICAgICAgICB0b0Rvc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b0RvQXJ0aWNsZSlcbiAgICAgICAgXG4gICAgfSlcbiAgICAgXG59XG4gICAgLyogcHJvamVjdCByZW5kZXJpbmcgKi9cbiAgICBmdW5jdGlvbiByZW5kZXJQcm9qZWN0cyhwcm9qZWN0c0FycmF5LCB0b0Rvcykge1xuICAgICAgICBcbiAgICAgICAgLyogY2hlY2sgaWYgcHJvamVjdHMgYWxyZWFkeSBleGlzdHMsIGFuZCByZW1vdmUgaXQqL1xuICAgICAgICBjb25zdCBwcmV2aW91c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0c0NvbnRhaW5lcicpXG4gICAgICAgIGlmKHByZXZpb3VzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBwcmV2aW91c0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpZiBpdCBkb2VzbnQgZXhpc3QsIGNyZWF0ZSBpdCAqL1xuICAgICAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwcm9qZWN0c0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0c0NvbnRhaW5lcicpO1xuICAgICAgICAvKiByZW5kZXIgYW55IGJ1dHRvbiAqL1xuICAgICAgICBjb25zdCBhbnlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYW55QnRuLmlubmVyVGV4dCA9ICdBbnknO1xuICAgICAgICBhbnlCdG4uY2xhc3NMaXN0LmFkZCgncHJvamVjdEJ0bicpO1xuICAgICAgICBhbnlCdG4uc2V0QXR0cmlidXRlKCdhbnknLCAnYW55JylcbiAgICAgICAgYW55QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHByb2plY3RUb0RvcyA9IHRvRG9zLmZpbHRlciggKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLmFueSA9PT0gJ2FueSdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlbmRlclRvRG8ocHJvamVjdHNBcnJheSwgcHJvamVjdFRvRG9zKVxuICAgICAgICB9KVxuICAgICAgICBwcm9qZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChhbnlCdG4pXG4gICAgICAgIC8qIHJlbmRlciBlYWNoIHByb2plY3QgYXMgYSBidXR0b24sIGlmIHRoZXJlJ3MgbW9yZSB0aGFuIDAqL1xuICAgICAgICBpZiAocHJvamVjdHNBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBwcm9qZWN0c0FycmF5LmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0QnRuLmlubmVyVGV4dCA9IHByb2plY3QubmFtZTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RCdG4nKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHByb2plY3RCdG4uc2V0QXR0cmlidXRlKCdwcm9qZWN0LW5hbWUnLCBwcm9qZWN0Lm5hbWUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgICAgICAgICBwcm9qZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0QnRuKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKiBldmVudCBsaXN0ZW5lciwgcmVuZGVycyBldmVyeSBlbGVtZW50IHRoYXQgY29ycmVzcG9uZHMgd2l0aCB0aGUgcHJvamVjdCBjbGlja2VkKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGUpe1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgbGV0IHByb2plY3RDbGlja2VkID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdwcm9qZWN0LW5hbWUnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHByb2plY3RUb0RvcyA9IHRvRG9zLmZpbHRlciggKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLnByb2plY3QgPT09IHByb2plY3RDbGlja2VkIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJlbmRlclRvRG8ocHJvamVjdHNBcnJheSwgcHJvamVjdFRvRG9zKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgXG4gICAgICAgIFxuICAgICAgICBwcm9qZWN0c1NlY3Rpb24uYXBwZW5kQ2hpbGQocHJvamVjdHNDb250YWluZXIpXG4gICAgICAgIFxuICAgICAgICBcbiAgICB9XG4gICAgfVxuICAgIFxuXG5cbiIsImltcG9ydCB7IGRvbU1hbmlwdWxhdGlvbiB9IGZyb20gXCIuL3RvZG9cIjtcblxuZG9tTWFuaXB1bGF0aW9uKCk7XG5cblxuXG5cblxuXG5cblxuXG4iXSwibmFtZXMiOlsiY2hlY2tJZkl0RXhpc3RzIiwicHJldmlvdXNGb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImZvckVhY2giLCJmb3JtIiwicmVtb3ZlIiwicHJvamVjdEZvcm0iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwicHJvamVjdE5hbWUiLCJzZXRBdHRyaWJ1dGUiLCJwcm9qZWN0TmFtZUxhYmVsIiwiaW5uZXJUZXh0Iiwic3VibWl0UHJvamVjdEJ0biIsImFwcGVuZENoaWxkIiwidG9Eb0Zvcm0iLCJ0b2RvRm9ybSIsImRpdlRpdGxlIiwiZGl2VGl0bGVMYWJlbCIsImRpdlRpdGxlSW5wdXQiLCJkaXZQcmlvcml0eSIsInNlbGVjdCIsImRpdlByaW9yaXR5TGFiZWwiLCJkaXZQcmlvcml0eUxvdyIsImRpdlByaW9yaXR5TWlkIiwiZGl2UHJpb3JpdHlIaWdoIiwiZGl2RGVzY3JpcHRpb24iLCJkaXZEZXNjcmlwdGlvbkxhYmVsIiwiZGl2RGVzY3JpcHRpb25JbnB1dCIsImRpdkRhdGUiLCJkaXZEYXRlTGFiZWwiLCJkaXZEYXRlSW5wdXQiLCJyZXF1aXJlZCIsImRpdlByb2plY3QiLCJUb2RvIiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwicHJvamVjdCIsInRoaXMiLCJhbnkiLCJsb2NhbFN0b3JhZ2VTZXQiLCJleGlzdGluZ1RvZG9zIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwicmVtb3ZlRnJvbUxzIiwibmFtZU9mVG9kbyIsInRvRG9JbmRleCIsImZpbmRJbmRleCIsInRvZG8iLCJzcGxpY2UiLCJ0b0RvcyIsImdldFRvRG9zIiwiUHJvamVjdCIsIm5hbWUiLCJwcm9qZWN0c0FycmF5Iiwic2V0UHJvamVjdEluTHMiLCJleGlzdGluZ1Byb2plY3RzIiwidG9Eb3NGcm9tTHMiLCJsc1RvRG9zV2l0aE1ldGhvZHMiLCJ0b2RvRnJvbUxzIiwiT2JqZWN0IiwiYXNzaWduIiwidG9Eb3NVcGRhdGVkIiwicHJvamVjdHNGcm9tTHMiLCJwcm9qZWN0c1NlY3Rpb24iLCJyb290IiwibmF2QmFyIiwibmV3UHJvamVjdCIsIm9uY2xpY2siLCJoYW5kbGVDbGljayIsIm5ld1RvRG8iLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJvbnN1Ym1pdCIsImVsZW1lbnRzIiwidmFsdWUiLCJyZW5kZXJQcm9qZWN0cyIsInJlbmRlclRvRG8iLCJwcm9qZWN0U2VsZWN0RGl2IiwicHJvamVjdFNlbGVjdExhYmVsIiwicHJvamVjdFNlbGVjdCIsInByb2plY3RPcHRpb24iLCJzdWJtaXRJbnB1dCIsImRhdGUiLCJzdWJtaXR0ZWRUb2RvIiwidG9Eb3NDb250YWluZXIiLCJ0b0Rvc1ByZXZpb3VzIiwicXVlcnlTZWxlY3RvciIsInRvRG9BcnRpY2xlIiwidG9kb0NhcmRDb250YWluZXIiLCJyZW1vdmVUb2RvQnRuIiwiY3JlYXRlRGV0YWlsQnRuIiwiZGV0YWlsc0J0biIsInNlbGVjdExhYmVsIiwidW5kZXRhaWxlZEJ0biIsImFueU9wdGlvbiIsIm9wdGlvbiIsIm9uY2hhbmdlIiwic2VsZWN0ZWRQcm9qZWN0IiwiaW5BcnJheSIsImVsIiwicHJldmlvdXNDb250YWluZXIiLCJwcm9qZWN0c0NvbnRhaW5lciIsImFueUJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9qZWN0VG9Eb3MiLCJmaWx0ZXIiLCJwcm9qZWN0Q2xpY2tlZCIsInByb2plY3RCdG4iLCJkb21NYW5pcHVsYXRpb24iXSwic291cmNlUm9vdCI6IiJ9